[package]
name        = "tsuki"
version     = "2.0.0"
edition     = "2021"
description = "Arduino Framework"
license     = "MIT"
authors     = ["tsuki Contributors", "s7lver"]
readme      = "README.md"

# ─── binaries ─────────────────────────────────────────────────
[[bin]]
name = "tsuki-core"
path = "src/main.rs"

[[bin]]
name = "tsuki-flash"
path = "flash/main.rs"

# ─── library (used by CLI / IDE integrations) ─────────────────
[lib]
name = "tsuki_core"
path = "src/lib.rs"

# ─── dependencies ─────────────────────────────────────────────
[dependencies]
thiserror  = "1.0"
anyhow     = "1.0"
serde      = { version = "1.0", features = ["derive"] }
serde_json = "1.0"
toml       = "0.8"
clap       = { version = "4.5", features = ["derive", "color"] }
rayon      = "1.10"
sha2       = "0.10"
hex        = "0.4"
colored    = "2.1"
walkdir    = "2.5"
ureq       = { version = "2.9", features = ["json"] }
zip        = { version = "0.6", default-features = false, features = ["deflate"] }

# ─── dev dependencies ─────────────────────────────────────────
[dev-dependencies]
pretty_assertions = "1.4"

# ─── profiles ─────────────────────────────────────────────────
[profile.release]
opt-level     = 3
lto           = true
codegen-units = 1
strip         = true

# ─── future workspace members ─────────────────────────────────
# [workspace]
# members = [
#   ".",
#   "godotino-lsp",   # Language Server Protocol server
#   "godotino-wasm",  # WASM build for browser IDE
# ]